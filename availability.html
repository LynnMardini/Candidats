<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Availability</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        .array-container {
            border: 1px solid #ccc;
            padding: 10px;
            max-width: 300px;
            margin: auto;
        }
        .array-item {
            font-size: 18px;
            margin-bottom: 5px;
        }
        .form-link {
            margin-top: 20px;
            display: block;
        }
    </style>
</head>
<body>
    <div class="array-container">
        <h2>Availability Times</h2>
        <div id="array-values"></div>
        <a class="form-link" href="https://forms.office.com/pages/responsepage.aspx?id=YrVqVI-GrESdrwP7hrQw0hCNry_o2KZMquSaH8JQsNRUODNEREpMVEVEMUo1SkIxSFFJSEZEUVU0Uy4u" target="_blank">Reschedule an appointment</a>
    </div>

    <script>
        // Function to parse URL parameters
        function parseParams(url) {
            const params = new URL(url).searchParams;
            return params.get('message');
        }

        // Function to display array values
        function displayArrayValues(arrayString) {
            const arrayContainer = document.getElementById('array-values');
            const array = JSON.parse(arrayString.replace(/%20/g, ' ')); // Replace %20 with spaces

            array.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.classList.add('array-item');
                itemDiv.textContent = item;
                arrayContainer.appendChild(itemDiv);
            });
        }

        // On page load, get array parameter from URL and display values
        window.onload = function() {
            const arrayParam = parseParams(window.location.href);
            if (arrayParam) {
                displayArrayValues(arrayParam);
            } else {
                // Handle case where no array parameter is found
                const arrayContainer = document.getElementById('array-values');
                arrayContainer.textContent = 'No array parameter found in URL.';
            }
        };
    </script>
</body>
</html>
